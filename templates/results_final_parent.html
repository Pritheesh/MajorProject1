<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
{#    <link rel="stylesheet" href="{% static 'InfoSystem/bootstrap.css' %}">#}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Student Results Page</title>


    <style type="text/css">
        .my_container {
            position: absolute;
{#            z-index: 1;#}
            visibility: visible;
        }

        .my_yet_other_container {
            position: absolute;
{#            z-index: 1;#}
            visibility: hidden;
        }

        .my_outer_container {
            position: absolute;
{#            z-index: 1;#}
            visibility: visible;
        }

        .my_other_outer_container {
            position: absolute;
{#            z-index: 1;#}
            visibility: hidden;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-default" style="background-color: #1f7e9a">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#" style="color: white">Welcome {{ user.username }}</a>
        </div>
        <ul class="nav navbar-nav" style="background-color: #1f7e9a">
            <li class="active"><a style="color: white;background-color: #1f7e9a;" href="https://cvr.ac.in">Home</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li><a style="color: white;background-color: #1f7e9a;" href="{% url 'logout' %}"><span style="color: white;background-color: #1f7e9a;" class="glyphicon glyphicon-log-out"></span> Logout</a></li>
        </ul>
    </div>
</nav>

<div style="position: relative">
    <div class="container">
        <h4 style="float: left">Father Name: {{ parent.father_name }}</h4>
        <h4 style="float: right">Mobile No: {{ parent.mobile }}</h4><br>
    </div>
    <div class="container">
        <h4>Mother Name: {{ parent.mother_name }}</h4><br>
    </div>
    <div>
        <div class="container" id="buttons">
            {% for student in students %}
                    {#                {% for i in num_buttons %}#}
                <button class="btn btn-success"
                        id="button{{ forloop.counter }}"
                        onclick="onClickOuter({{ forloop.counter }})">
                    {{ student.name }}
                </button>
                    {#                {% endfor %}#}
                {% endfor %}
        </div>
        <div class="container" style="position: relative">
            {% for student, examinfo in my_dict.items %}
                <div class="
                    {% if forloop.counter0 == 0 %}
                        my_outer_container
                        {% else %}
                            my_other_outer_container
                        {% endif %}
                         "
                        id="div{{ forloop.counter }}">
                    <div>
                        <div class="container">
                            <h4 style="float: left">Name: {{ student.name }}</h4>
                            <h4 style="float: right">Roll No: {{ student.hall_ticket }}</h4><br>
                        </div>
                        <div>
                            <div class="container" id="buttons">
                                {% for sem, ei in examinfo.items %}
                                    <button class="btn btn-success"
                                            id="button{{ forloop.parentloop.counter }}{{ ei.0.year_of_pursue }}{{ ei.0.semester }}"
                                            onclick="onClick({{ forloop.parentloop.counter }}, {{ ei.0.year_of_pursue }}{{ ei.0.semester }})">
                                        {{ ei.0.year_of_pursue_roman }} - {{ ei.0.semester_roman }}
                                    </button>
                                {% endfor %}
                            </div>
                            {% for key, ei in examinfo.items %}
                                <div class="container
                                    {% if ei.0.year_of_pursue == 1 and ei.0.semester == 1 and forloop.parentloop.counter0 == 0 %}
                                        my_container
                                    {% else %}
                                        my_yet_other_container
                                    {% endif %}
                                      "
                                     id="div{{ forloop.parentloop.counter }}{{ ei.0.year_of_pursue }}{{ ei.0.semester }}">

                                    {% for e in ei %}
                                    <h5 style="float: left">Examination held during {{ e.month_of_year }}
                                        / {{ e.year_of_calendar }}</h5>
                                    <h5 style="float: right"> B.Tech {{ e.year_of_pursue_roman }}
                                        Year {{ e.semester_roman }}
                                        Semester
                                         {% if e.supple is False %}
                                             Main
                                             {% else %}
                                             Supple
                                         {% endif %}
                                    </h5><br/><br>
                                    <table class="table table-hover table-responsive table-striped">
                                        <tr>
                                            <th>#</th>
                                            <th>Subject</th>
                                            <th>Internal Exams</th>
                                            <th>External Exams</th>
                                            <th>Total</th>
                                            <th>Result</th>
                                            <th>Credits</th>
                                        </tr>

                                        {% for result in e.result.all %}
                                            <tr>
                                                <td>{{ forloop.counter }}</td>
                                                <td>{{ result.subject }}</td>
                                                <td>{{ result.internal_marks }}</td>
                                                <td>{{ result.external_marks }}</td>
                                                <td>{{ result.internal_marks|add:result.external_marks }}</td>
                                                <td>{{ result.results }}</td>
                                                <td>{{ result.credits }}</td>
                                            </tr>
                                        {% endfor %}
                                    </table>
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
<script type="text/javascript" src="{% static "InfoSystem/results_parent.js" %}"></script>
</body>
</html>