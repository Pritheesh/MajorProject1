<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Student Results Page</title>


    <style type="text/css">
        .my_container {
            position: absolute;
            z-index: 1;
            visibility: visible;
        }

        .my_yet_other_container {
            position: absolute;
            z-index: 1;
            visibility: hidden;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Welcome {{ user.username }}</a>
        </div>
        <ul class="nav navbar-nav">
            <li class="active"><a href="https://cvr.ac.in">Home</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li><a href="{% url 'logout' %}"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
        </ul>
    </div>
</nav>

<div class="jumbotron" style="position: relative">
    <div class="container">
        <h4 style="float: left">Father Name: {{ parent.father_name }}</h4>
        <h4 style="float: right">Mobile No: {{ parent.mobile }}</h4><br>
    </div>
    <div class="container">
        <h4>Mother Name: {{ parent.mother_name }}</h4><br>
    </div>
    <div class="container">
            <div class="container" id="buttons">
                {% for student in students %}
                    {#                {% for i in num_buttons %}#}
                    <button class="btn btn-success"
                            id="button{{ student.hall_ticket }}"
                            onclick="onClick({{ student.hall_ticket }})">
                        {{ student.name }}
                    </button>
                    {#                {% endfor %}#}
                {% endfor %}
            </div>
            <div class="container">
                {% for student, examinfo in my_dict.items %}
                    <div class="container">
                        <h4 style="float: left">Name: {{ student.name }}</h4>
                        <h4 style="float: right">Roll No: {{ student.hall_ticket }}</h4><br>
                    </div>
                    <div class="container">
                        <div class="container" id="buttons">
                            {% for ei in examinfo %}
                                <button class="btn btn-success"
                                        id="button{{ ei.year_of_pursue }}{{ ei.semester }}"
                                        onclick="onClick({{ ei.year_of_pursue }}{{ ei.semester }})">
                                    {{ ei.year_of_pursue_roman }} - {{ ei.semester_roman }}
                                </button>
                            {% endfor %}
                        </div>
                        {% for ei in examinfo %}
                            <div class="container
                                 {% if ei.year_of_pursue == 1 and ei.semester == 1 %}
                                    my_container
                                    {% else %}
                                    my_yet_other_container
                                 {% endif %}
                                  "
                                 id="div{{ ei.year_of_pursue }}{{ ei.semester }}">
                                <h5 style="float: left">Examination held during {{ ei.month_of_year }}
                                    / {{ ei.year_of_calendar }}</h5>
                                <h5 style="float: right"> B.Tech {{ ei.year_of_pursue_roman }}
                                    Year {{ ei.semester_roman }}
                                    Semester</h5><br/><br>
                                <table class="table table-hover table-responsive table-striped">
                                    <tr>
                                        <th>#</th>
                                        <th>Subject</th>
                                        <th>Internal Exams</th>
                                        <th>External Exams</th>
                                        <th>Total</th>
                                        <th>Result</th>
                                        <th>Credits</th>
                                    </tr>

                                    {% for result in ei.result.all %}
                                        <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{ result.subject }}</td>
                                            <td>{{ result.internal_marks }}</td>
                                            <td>{{ result.external_marks }}</td>
                                            <td>{{ result.internal_marks|add:result.external_marks }}</td>
                                            <td>{{ result.results }}</td>
                                            <td>{{ result.credits }}</td>
                                        </tr>
                                    {% endfor %}
                                </table>
                            </div>
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>

    </div>
</div>
</body>
</html>