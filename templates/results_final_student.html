<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Student Results Page</title>


    <style type="text/css">
        .my_container {
            position: absolute;
            z-index: 1;
            visibility: visible;
        }

        .my_yet_other_container {
            position: absolute;
            z-index: 1;
            visibility: hidden;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-default" style="background-color: #1f7e9a">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" style="color: white" href="#">Welcome {{ user.username }}</a>
        </div>
        <ul class="nav navbar-nav">
            <li class="active"><a style="color: white;background-color: #1f7e9a;" href="https://cvr.ac.in">Home</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li><a style="color: white;background-color: #1f7e9a;" href="{% url 'logout' %}">
                <span class="glyphicon glyphicon-log-out" style="color: white;background-color: #1f7e9a;"></span> Logout</a></li>
        </ul>
    </div>
</nav>
<div style="position: relative">
    <div class="container">
        <h4 style="float: left">Name: {{ students.0.name }}</h4>
        <h4 style="float: right">Roll No: {{ students.0.hall_ticket }} </h4><br>
    </div>

    <div class="container">
        <div class="container" id="buttons">
            {% for key, value in stud_res_dict %}
                {#                {% for i in num_buttons %}#}
                <button class="btn btn-success"
                        id="button{{ value.0.year_of_pursue }}{{ value.0.semester }}"
                        onclick="onClick({{ value.0.year_of_pursue }}{{ value.0.semester }})">
                    {{ value.0.year_of_pursue_roman }} - {{ value.0.semester_roman }}
                </button>
                {#                {% endfor %}#}
            {% endfor %}
        </div>
        {% for key, examinfo in stud_res_dict %}
            <div class="container
                 {% if examinfo.0.year_of_pursue == 1 and examinfo.0.semester == 1 %}
                    my_container
                    {% else %}
                    my_yet_other_container
                 {% endif %}
                  "
                 id="div{{ examinfo.0.year_of_pursue }}{{ examinfo.0.semester }}">
                {% for ei in examinfo %}
                    <h5 style="float: left">Examination held during {{ ei.month_of_year }}
                        / {{ ei.year_of_calendar }}</h5>
                    <h5 style="float: right"> B.Tech {{ ei.year_of_pursue_roman }}
                        Year {{ ei.semester_roman }}
                        Semester
                        {% if ei.supple %}
                            Supple
                        {% else %}
                            Main
                        {% endif %}
                    </h5><br/><br>
                    <table class="table table-hover table-responsive table-striped">
                        <tr>
                            <th>#</th>
                            <th>Subject</th>
                            <th>Internal Exams</th>
                            <th>External Exams</th>
                            <th>Total</th>
                            <th>Result</th>
                            <th>Credits</th>
                        </tr>

                        {% for result in ei.result.all %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ result.subject }}</td>
                                <td>{{ result.internal_marks }}</td>
                                <td>{{ result.external_marks }}</td>
                                <td>{{ result.internal_marks|add:result.external_marks }}</td>
                                <td>{{ result.results }}</td>
                                <td>{{ result.credits }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                {% endfor %}
            </div>
        {% endfor %}
    </div>
</div>
<script type="text/javascript" src="{% static "InfoSystem/results_student.js" %}"></script>
</body>
</html>